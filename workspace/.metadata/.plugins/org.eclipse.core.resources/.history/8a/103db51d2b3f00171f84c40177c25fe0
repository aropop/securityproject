package be.project.middleware;

import be.msec.client.connection.Connection;

import be.msec.client.connection.IConnection;
import be.msec.client.connection.SimulatedConnection;

import java.nio.ByteBuffer;
import java.util.Arrays;

import javax.smartcardio.*;

import org.eclipse.jetty.websocket.common.frames.PingFrame;

import spark.Spark;

public class Main {


	interface PinOperation { void operate(byte[] pin); }
	
	/**
	 * @param args
	 */
	public static void main(String[] args) {
		Commands cm = new Commands();
		cm.init();		

	}
	
	public static void askForPin(PinOperation cont) {
		Spark.get("/pin", (req, res) -> ("<form>" +
				"    PIN:<input type=\"text\" name=\"pin\" pattern=\"[0-9]{4}\" maxlength=\"4\">" +
				"    <input type=\"submit\" value=\"Validate\">" +
				"</form>"));
		Spark.post("/pin", (req, res) -> {
			String pin = req.params("pin");
			String[] pp = pin.split("");
			for(String num : pp) {
				
			}
			Spark.stop();
			return true;
		});
	}



}
